{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stajyeryazilim\\\\Desktop\\\\market-main\\\\frontend\\\\src\\\\components\\\\Map.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { GoogleMap, LoadScript, Marker, Circle } from '@react-google-maps/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Map = ({\n  markers,\n  onMarkerClick,\n  onRadiusChange\n}) => {\n  _s();\n  const [userLocation, setUserLocation] = useState(null);\n  const [radius, setRadius] = useState(5); // 5km varsayılan\n\n  const mapStyles = {\n    height: \"70vh\",\n    width: \"100%\"\n  };\n  const defaultCenter = {\n    lat: 39.9334,\n    // Ankara'nın koordinatları\n    lng: 32.8597\n  };\n  useEffect(() => {\n    // Kullanıcının konumunu al\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const userPos = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        setUserLocation(userPos);\n        onRadiusChange(userPos.lat, userPos.lng, radius * 1000); // API için metreye çevir\n      }, error => {\n        console.error('Konum alınamadı:', error);\n      });\n    }\n  }, [radius, onRadiusChange]);\n  const handleRadiusChange = e => {\n    const newRadius = parseFloat(e.target.value);\n    setRadius(newRadius);\n    if (userLocation) {\n      onRadiusChange(userLocation.lat, userLocation.lng, newRadius * 1000); // API için metreye çevir\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"radius-control\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"radius-input\",\n        children: \"Ka\\xE7 km \\xE7evredeki marketleri g\\xF6rmek istersiniz?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"radius-input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"radius-input\",\n          type: \"range\",\n          min: \"1\",\n          max: \"10\",\n          value: radius / 1000,\n          onChange: e => {\n            const kmValue = parseFloat(e.target.value);\n            const meterValue = Math.round(kmValue * 1000);\n            handleRadiusChange({\n              target: {\n                value: meterValue\n              }\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"radius-value\",\n          children: [radius / 1000, \" km\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoadScript, {\n      googleMapsApiKey: \"AIzaSyDep0OeyVVHnIBKRr_jJSJhFGs4RMdpUcQ\",\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: mapStyles,\n        zoom: 13,\n        center: userLocation || defaultCenter,\n        children: [userLocation && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Marker, {\n            position: userLocation,\n            icon: {\n              url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Circle, {\n            center: userLocation,\n            radius: radius,\n            options: {\n              fillColor: '#3B82F6',\n              fillOpacity: 0.1,\n              strokeColor: '#3B82F6',\n              strokeOpacity: 0.8,\n              strokeWeight: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), markers.map((marker, index) => /*#__PURE__*/_jsxDEV(Marker, {\n          position: marker.location,\n          onClick: () => onMarkerClick(marker),\n          icon: {\n            url: marker.name === 'Migros' ? 'http://maps.google.com/mapfiles/ms/icons/red-dot.png' : 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png'\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(Map, \"KTS22ifCbpDwcMDKPIAGiN6o53k=\");\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useState","useEffect","GoogleMap","LoadScript","Marker","Circle","jsxDEV","_jsxDEV","Fragment","_Fragment","Map","markers","onMarkerClick","onRadiusChange","_s","userLocation","setUserLocation","radius","setRadius","mapStyles","height","width","defaultCenter","lat","lng","navigator","geolocation","getCurrentPosition","position","userPos","coords","latitude","longitude","error","console","handleRadiusChange","e","newRadius","parseFloat","target","value","children","className","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","type","min","max","onChange","kmValue","meterValue","Math","round","googleMapsApiKey","mapContainerStyle","zoom","center","icon","url","options","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight","map","marker","index","location","onClick","name","_c","$RefreshReg$"],"sources":["C:/Users/stajyeryazilim/Desktop/market-main/frontend/src/components/Map.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { GoogleMap, LoadScript, Marker, Circle } from '@react-google-maps/api';\n\nconst Map = ({ markers, onMarkerClick, onRadiusChange }) => {\n  const [userLocation, setUserLocation] = useState(null);\n  const [radius, setRadius] = useState(5); // 5km varsayılan\n  \n  const mapStyles = {\n    height: \"70vh\",\n    width: \"100%\"\n  };\n\n  const defaultCenter = {\n    lat: 39.9334, // Ankara'nın koordinatları\n    lng: 32.8597\n  };\n\n  useEffect(() => {\n    // Kullanıcının konumunu al\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const userPos = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          };\n          setUserLocation(userPos);\n          onRadiusChange(userPos.lat, userPos.lng, radius * 1000); // API için metreye çevir\n        },\n        (error) => {\n          console.error('Konum alınamadı:', error);\n        }\n      );\n    }\n  }, [radius, onRadiusChange]);\n\n  const handleRadiusChange = (e) => {\n    const newRadius = parseFloat(e.target.value);\n    setRadius(newRadius);\n    if (userLocation) {\n      onRadiusChange(userLocation.lat, userLocation.lng, newRadius * 1000); // API için metreye çevir\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"radius-control\">\n        <label htmlFor=\"radius-input\">Kaç km çevredeki marketleri görmek istersiniz?</label>\n        <div className=\"radius-input-container\">\n          <input\n            id=\"radius-input\"\n            type=\"range\"\n            min=\"1\"\n            max=\"10\"\n            value={radius / 1000}\n            onChange={(e) => {\n              const kmValue = parseFloat(e.target.value);\n              const meterValue = Math.round(kmValue * 1000);\n              handleRadiusChange({ target: { value: meterValue } });\n            }}\n          />\n          <span className=\"radius-value\">{radius / 1000} km</span>\n        </div>\n      </div>\n\n      <LoadScript googleMapsApiKey=\"AIzaSyDep0OeyVVHnIBKRr_jJSJhFGs4RMdpUcQ\">\n        <GoogleMap\n          mapContainerStyle={mapStyles}\n          zoom={13}\n          center={userLocation || defaultCenter}\n        >\n          {userLocation && (\n            <>\n              <Marker\n                position={userLocation}\n                icon={{\n                  url: 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'\n                }}\n              />\n              <Circle\n                center={userLocation}\n                radius={radius}\n                options={{\n                  fillColor: '#3B82F6',\n                  fillOpacity: 0.1,\n                  strokeColor: '#3B82F6',\n                  strokeOpacity: 0.8,\n                  strokeWeight: 2,\n                }}\n              />\n            </>\n          )}\n\n          {markers.map((marker, index) => (\n            <Marker\n              key={index}\n              position={marker.location}\n              onClick={() => onMarkerClick(marker)}\n              icon={{\n                url: marker.name === 'Migros' \n                  ? 'http://maps.google.com/mapfiles/ms/icons/red-dot.png'\n                  : 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png'\n              }}\n            />\n          ))}\n        </GoogleMap>\n      </LoadScript>\n    </div>\n  );\n};\n\nexport default Map;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}